<script>
  // idについてクリック等のイベントが生じたら、eいかを実行せよという命令（３４行目まで。）e＝イベント情報を示す。２５〜３４行目まで。EventListenerとは、イベントを拾う（今回でいうclick）
  submit_button.addEventListener('click',(e)=>{
    e.preventDefault();
    // preventDefault()=クリックイベントを無効化。無効化しないと無条件にデータを送信してします。
    var files = document.getElementById("select_file").files;
    // <div><h1>は全てElement。なので、select_fileという名前がついたid(Element)を呼び出す
    // lengthが選んだファイルの数。lengthで数え上げている。filesがhtml上の選択ボックスのtype
    if(files.length>3){
      alert('画像ファイルは3枚以内で投稿して下さい')
    }
    else{
       document.form.submit()
       // このformは5行目で任意につけたフォーム。このdocument.form.submit()で、preventDefault();で無効化したものを再度有効化している。
    }
  });

  $('.star').raty({
   size: 36, // 星のサイズ
   score: "<%= @post.score %>",//数値の代入
   starOff: "<%=asset_path('star-off.png')%>",// 星なし
   starOn: "<%=asset_path('star-on.png')%>",//星有り
   starHalf: "<%=asset_path('star-half.png')%>",// 星半分
   scoreName: 'review[score]',
   half: true,// 星の半分の入力を実行
 });
</script>